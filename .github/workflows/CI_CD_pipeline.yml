#name of Workflow
name: Deploy app

#control trigger for workflow
on: 
    #Triggers the workflow on push or pull request events but only on the "main branch"
    push:
        branches: ["main"]
    pull_request:
        branches: ["main",]
    #Trigger workflow manually through github actions UI
    workflow_dispatch:

jobs:
    CI:
        runs-on: ubuntu-latest
        #1: get code from github
        steps: 
            - name: Fetch code
              uses: actions/checkout@v3
        
        #2: install python
            - name: install python 3.12
              uses: actions/setup-python@v5
              with:
                python-version: '3.12'
        
        #3: Install dependencies
            - name: install dependencies 
              run: |
                python -m pip install --upgrade pip
                pip install -r requirements.txt

        #4: Lint code
            - name: install black
              run: pip install black
            - name: change working directory
              run: cd ./website
            - name: lint code
              run: black .
              working-directory: ./website
            

        #4: test end of first test
            - name: end of flow
              run: "echo end of test"
        
        #5 Static Code Analysis      
        
        #6 run unit and integration tests

        